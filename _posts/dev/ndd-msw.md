---
date: 2023-12-08
title: MSWë¥¼ ì‚¬ìš©í•´ì„œ ì—ëŸ¬ ì‘ë‹µì„ ëª©ì—…í•˜ê³  ëŸ°íƒ€ì„ì—ì„œ ì‰½ê²Œ ê°ˆì•„ë¼ìš°ê¸°
excerpt: MSWë¥¼ ì‚¬ìš©í•´ì„œ ì„±ê³µ ì‘ë‹µ ë¿ë§Œ ì•„ë‹ˆë¼ ì—ëŸ¬ ì‘ë‹µë„ ëª©ì—…í•˜ê³ , ëŸ°íƒ€ì„ì—ì„œ ì‰½ê²Œ ì—ëŸ¬ ì‘ë‹µìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£¨ê³  ìˆìŠµë‹ˆë‹¤.
category: ê°œë°œ
tags:
  - ê³°í„°ë·°
  - ë„¤ì´ë²„-ë¶€ìŠ¤íŠ¸ìº í”„
  - í”„ë¡œì íŠ¸
  - NDD
thumbnail: https://i.imgur.com/bsrkSA8.png
slug: gomterview-4
updated: 2024-05-05T16:58
---
ê³°í„°ë·° í”„ë¡œì íŠ¸ì—ì„œëŠ” ì„œë²„ì˜ ê°œë°œì†ë„ì— ì œì•½ì„ ë°›ì§€ ì•Šê³  í˜ì´ì§€ ê°œë°œì„ ì§„í–‰í•˜ê¸° ìœ„í•´ MSWë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°ìš”. MSW(Mock Service Worker)ë€ ì„œë¹„ìŠ¤ ì›Œì»¤ APIë¥¼ ì‚¬ìš©í•´ ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ê°€ë¡œì±„ê³ , ë¯¸ë¦¬ ì •ì˜ëœ ì‘ë‹µì„ ë°˜í™˜í•´ ë°±ì—”ë“œ ì„œë²„ ì—†ì´ë„ HTTP ìš”ì²­ì„ ëª¨ë°©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
ê³°í„°ë·° í”„ë¡ íŠ¸ì—”ë“œëŠ” MSW ë•ë¶„ì— ë°±ì—”ë“œ API ë°°í¬ ì†ë„ì— ì˜í–¥ì„ ë°›ì§€ ì•Šê³  í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ë¹ ë¥´ê²Œ ì§„í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ìš°ë¦¬íŒ€ì´ MSWë¥¼ ì–´ë–»ê²Œ í™œìš©í•´ì„œ ë¹ ë¥´ê²Œ ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆì—ˆëŠ”ì§€ì— ëŒ€í•´ ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤.
# MSW ë¹ ë¥´ê²Œ ëª©ì—…í•˜ê¸°
MSWë¥¼ ì‚¬ìš©í•˜ëŠ” ì£¼ëœ ì´ìœ  ì¤‘ í•˜ë‚˜ëŠ” ë°±ì—”ë“œì˜ ì˜í–¥ì„ ë°›ì§€ ì•Šê³  í”„ë¡ íŠ¸ì—”ë“œì˜ ê°œë°œì„ ì§„í–‰í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
í•˜ì§€ë§Œ MSWë¥¼ ëª©ì—…í•˜ëŠ”ë° ë§ì€ ì‹œê°„ì´ ì†Œìš”ëœë‹¤ë©´ ë¹ ë¥¸ ê°œë°œì„ ìœ„í•´ ë„ì…í–ˆë˜ MSWê°€ ì–´ëŠìƒˆ ê³¨ì¹˜ì•„í”ˆ íƒœìŠ¤í¬ê°€ ë¼ë²„ë¦¬ì£ . ë”°ë¼ì„œ ìš°ë¦¬ íŒ€ì€ ìµœì†Œí•œì˜ ë¹„ìš©ìœ¼ë¡œ ì‘ë‹µì„ ëª©ì—…í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
## response bodyë¥¼ ìœ„í•œ json ë”ë¯¸ë°ì´í„° ìƒì„±
ì„œë²„ì— ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ response ì‘ë‹µì— ëŒ€í•œ ë°ì´í„°ë¥¼ í•œ ê³³ì—ì„œ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ëª¨ë“  response ì‘ë‹µì„ json íŒŒì¼ í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. ê° json íŒŒì¼ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
![ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ë³„ë¡œ ë‚˜ëˆ ì§„ response body ë°ì´í„°](https://i.imgur.com/lLwnHkZ.png)
MSW í•¸ë“¤ëŸ¬ì—ì„œ ë°”ë¡œ ê°ì²´ë¥¼ ìƒì„±í•´ ì‘ë‹µì„ ë‚´ë ¤ì£¼ì§€ ì•Šê³  ë³„ë„ì˜ jsonìœ¼ë¡œ ê´€ë¦¬í•œ ì´ìœ ëŠ” ì¶”í›„ ì—ëŸ¬ ìƒí™©ì— ëŒ€í•œ í•¸ë“¤ëŸ¬ë“¤ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œë„ ì¼ê´€ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ì•„ë˜ ì—ëŸ¬ì‘ë‹µì— ëª©ì—…ì— ëŒ€í•´ ì„¤ëª…í•  ë•Œ ë” ìì„¸íˆ ì–¸ê¸‰í•˜ë„ë¡ í• ê²Œìš”.
## í´ë¼ì´ì–¸íŠ¸ì˜ ì‘ë‹µì„ ê²€ì¦í•˜ì§€ ì•Šê³  ì„±ê³µ ì‘ë‹µì„ ë‚´ë ¤ì¤Œ
```ts
http.post(API.ANSWER, () => {  
  return HttpResponse.json({}, { status: 201 });  
}),  
http.post(API.ANSWER_DEFAULT, ({ request }) => {  
  return HttpResponse.json({}, { status: 201 });  
}),
```
POST, PATCHë“± í´ë¼ì´ì–¸íŠ¸ì˜ request bodyì— ë”°ë¼ì„œ ë‹¤ë¥¸ ì‘ë‹µì„ ë‚´ë ¤ì¤˜ì•¼ í•˜ëŠ” ìš”ì²­ì˜ ê²½ìš°, ì‚¬ìš©ìê°€ ë³´ë‚¸ ì‘ë‹µì„ ê²€ì¦í•˜ì§€ ì•Šê³  ë¬´ì¡°ê±´ ì„±ê³µ ì‘ë‹µì„ ë‚´ë ¤ì¤¬ìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì‘ë‹µ ê²€ì¦ ë¡œì§ì´ ì¶”ê°€ë˜ëŠ” ìˆœê°„ MSWë¥¼ ëª©ì—…í•˜ëŠ”ë° êµ‰ì¥íˆ ë§ì€ ì‹œê°„ì´ ì†Œìš”ë˜ê¸° ë•Œë¬¸ì¸ë°ìš”. 
MSWê°€ ì±…ì„ì ¸ì•¼ í•  ê²ƒì€ ë°±ì—”ë“œ APIê°€ ë°°í¬ë˜ê¸° ì „ í´ë¼ì´ì–¸íŠ¸ì—ì„œ API ì—°ê²° í™˜ê²½ì„ êµ¬ì„±í•˜ê¸° ìš©ì´í•˜ê²Œ í•´ì£¼ëŠ” ê²ƒì´ì§€ ì‹¤ì œ ë™ì‘ì„ ì œê³µí•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ request bodyë¥¼ ê²€ì¦í•˜ì§€ ì•Šê³  ë¬´ì¡°ê±´ ì„±ê³µ ì‘ë‹µì„ ë‚´ë ¤ì£¼ë„ë¡ ëª©ì—…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
## json ë°ì´í„°ë¡œ response body ìƒì„±
```ts
http.get(API.ANSWER_ID(), ({ params }) => {  
  const { id: answerId } = params;  
  const answerIdMap = new Map<number, AnswerEntity[]>();  
  answerData.forEach((answer) => {  
    answerIdMap.has(answer.answerId)  
      ? answerIdMap.get(answer.answerId)!.push(answer)  
      : answerIdMap.set(answer.answerId, [answer]);  
  });  
  return HttpResponse.json(answerIdMap.get(Number(answerId)));  
}),
```
GET ìš”ì²­ì²˜ëŸ¼ response bodyê°€ í•„ìš”í•œ ì‘ë‹µì˜ ê²½ìš° ìœ„ì—ì„œ ì €ì¥í•´ë†¨ë˜ json ë”ë¯¸ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ë¡œì§ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. GETìš”ì²­ê°™ì€ ê²½ìš° ì„œë²„ì—ì„œ ë‚´ë ¤ì£¼ëŠ” ë°ì´í„°ê°€ ì–´ëŠì •ë„ ìˆì–´ì•¼ API ì‘ë‹µì— ë”°ë¥¸ í™”ë©´ì„ êµ¬ì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì¸ë°ìš”. ì´ ë˜í•œ ë§ì€ ì‹œê°„ì´ ì†Œìš”ë˜ì§€ ì•Šë„ë¡ json ë°ì´í„°ë§Œ ê°„ë‹¨í•˜ê²Œ ê°€ê³µí•´ì„œ ì‘ë‹µì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤.
# ì—ëŸ¬ ì‘ë‹µ ëª©ì—…í•˜ê¸°
ìœ„ì™€ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•˜ë‹ˆ API ì„±ê³µ ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œ ìµœì†Œí•œì˜ ì‹œê°„ë§Œì„ ë“¤ì—¬ API ëª©ì—…ì„ ì™„ë£Œí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ì— ëŒ€í•œ APIë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” ì„±ê³µ ë¿ë§Œ ì•„ë‹ˆë¼ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëª©ì—…ë„ í•„ìš”í•©ë‹ˆë‹¤.

ì—ëŸ¬ ì‘ë‹µì— ëŒ€í•œ ëª©ì—…ì€ MSW í•¸ë“¤ëŸ¬ ì‘ë‹µì˜ http status ì½”ë“œë§Œ ì—ëŸ¬ì½”ë“œë¡œ ìˆ˜ì •í•´ì£¼ë©´ ë˜ê¸° ë•Œë¬¸ì— ì•„ì£¼ ê°„ë‹¨í•œ ì‘ì—…ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¬¸ì œëŠ” ì–¸ì œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ê²ƒì¸ì§€ì— ëŒ€í•œ ì¡°ê±´ì„ ì„¤ì •í•˜ëŠ” ê²ƒì¸ë°ìš”.
ì–´ë–»ê²Œ í•˜ë©´ ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì„ì§€ì— ëŒ€í•´ ê³ ë¯¼í•˜ë©° ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ë“¤ì„ ê³ ë ¤í•´ë´¤ìŠµë‹ˆë‹¤.
### ë°©ë²•1: í´ë¼ì´ì–¸íŠ¸ì˜ request bodyì— ë”°ë¼ ë‹¤ë¥¸ ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ ë‚´ë ¤ì¤€ë‹¤
í•˜ì§€ë§Œ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë¶„ì„í•˜ê³  ê²€ì¦í•´ì„œ ì—ëŸ¬ ìƒí™©ì„ ë°œìƒì‹œì¼œì•¼ í•©ë‹ˆë‹¤.
ì´ëŠ” ë°±ì—”ë“œ ì½”ë“œ ì¤‘ ì»¨íŠ¸ë¡¤ëŸ¬ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë ¤ë©´ MSWë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ë³´ë‹¤ ë” ë§ì€ ë¹„ìš©ì´ ì†Œìš”ëœë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. 
### ë°©ë²•2: í´ë¼ì´ì–¸íŠ¸ì˜ api ìš”ì²­ ì£¼ì†Œì— ë”°ë¼ ë‹¤ë¥¸ ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ ë‚´ë ¤ì¤€ë‹¤
ì •ìƒì ì¸ ì‘ë‹µì„ ë‚´ë ¤ì£¼ëŠ” api ìš”ì²­ ì£¼ì†Œê°€ `api/user` ë¼ê³  ê°€ì •í–ˆì„ ë•Œ `api/user/error` ë¼ëŠ” ì£¼ì†Œë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ ì—ëŸ¬ ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ê³ ë¯¼í•´ë´¤ìŠµë‹ˆë‹¤. 
request bodyë¥¼ ê²€ì¦í•´ì•¼ í•˜ëŠ” ë°©ë²•1ë³´ë‹¨ ì ì€ ì‹œê°„ì´ ì†Œìš”ë˜ê² ì§€ë§Œ, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì—ì„œ api ìš”ì²­ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ëŠ” ìˆ˜ê³ ë¡œì›€ì´ ìˆìŠµë‹ˆë‹¤.
'api ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ê³¼ì—° ì˜³ì€ ì‹œë‚˜ë¦¬ì˜¤ì¼ê¹Œ?'ì— ëŒ€í•´ ê³ ë¯¼í•´ë³¸ ê²°ê³¼ ë­”ê°€ ì´ìƒí•œ ë°©ë²•ì´ë¼ê³  ìƒê°í–ˆì£ . ê·€ì°®ì€ê±¸ ê·¹ë„ë¡œ ì‹«ì–´í•˜ëŠ” ê°œë°œìë“¤ì´ ì´ë ‡ê²Œ ë¶ˆí¸í•˜ê²Œ MSWë¥¼ ì‚¬ìš©í•  ê²ƒ ê°™ì§„ ì•Šë‹¤ëŠ” ì˜ˆê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
## ìš°ë¦¬ê°€ ì±„íƒí•œ ë°©ë²•
ìœ„ì˜ ë‘ ê°€ì§€ ë°©ë²• ëª¨ë‘ ë˜‘ë˜‘í•œ í•´ê²°ì±…ì€ ì•„ë‹ˆë¼ê³  íŒë‹¨í–ˆê³ , ë” ë‚˜ì€ ë°©ë²•ì„ ì°¾ê¸° ìœ„í•´ íƒìƒ‰í•´ë³¸ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì€ ê¸€ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
[How do you mock different responses in real life?Â #1117](https://github.com/mswjs/msw/discussions/1117)

ì´ ê¸€ì˜ ì‘ì„±ìë„ ì €ì™€ ë™ì¼í•œ ê³ ë¯¼ì„ í•˜ê³  ìˆì—ˆëŠ”ë°ìš”. ëŸ°íƒ€ì„ í™˜ê²½ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ MSWì˜ í•¸ë“¤ëŸ¬ ì‘ë‹µì„ êµì²´í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ê³ ë¯¼í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ê¸€ì˜ ë‹µë³€ì—ì„œ ì•„ì£¼ íšê¸°ì ì¸ í•´ê²°ì±…ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤!!
![íšê¸°ì ì¸ ë‹µë³€!](https://i.imgur.com/SOvdbfz.png)
```ts
export const handlers = [
  rest.get('/api/articles/latest', (request, response, context) => {
    const pageParams = new URLSearchParams(window.location.search)
    const scenario = pageParams.get('scenario')

    // Sad path
    if (scenario === 'error') {
      return response(
        context.status(500),
        context.json({ error: 'oops!' }),
      )
    }

    // Happy path
    return response(
      context.status(200),
      context.json({ data: 'some-random-fake-data' }),
    )
  }),
```

ì¦‰, ìš”ì•½í•˜ìë©´ MSW ë˜í•œ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ìœ„ì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ì˜ url ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì¸ë°ìš”. ì´ì— ë”°ë¼ MSW í•¸ë“¤ëŸ¬ ì½”ë“œë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì˜ ì½”ë“œ ë³€ê²½ ì—†ì´ ìƒí™©ë³„ API ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
## ê³°í„°ë·°ì—ì„œëŠ” ì´ ë°©ë²•ì„ ì–´ë–»ê²Œ ì ìš©í–ˆì„ê¹Œ?
ê³°í„°ë·° ì„œë¹„ìŠ¤ëŠ” ë””í…Œì¼í•œ ì—ëŸ¬ í•¸ë“¤ë§ì„ ìœ„í•´ http status ì½”ë“œ ë¿ ì•„ë‹ˆë¼ ì»¤ìŠ¤í…€ ì—ëŸ¬ì½”ë“œë¥¼ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°ìš”. ì´ ëª¨ë“  ì—ëŸ¬ ìƒí™©ì„ í•˜ë‚˜ì˜ í•¸ë“¤ëŸ¬ ì½”ë“œ ì•ˆì—ì„œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì— ë”°ë¼ ë¶„ê¸°ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì€ í•¸ë“¤ëŸ¬ì˜ ê°€ë…ì„±ì„ ì €í•˜ì‹œí‚¤ê³ , ë¶ˆí¸í•œ ë°©ë²•ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ê³µì‹ë¬¸ì„œë¥¼ ì¢€ ì°¾ì•„ë´¤ë”ë‹ˆ [Network behavior overrides - Mock Service Worker](https://mswjs.io/docs/best-practices/network-behavior-overrides)ë¼ëŠ” ê¸€ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì˜ ì„¤ëª…ì„ ìš”ì•½í•˜ìë©´, `setupWorker`ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì„¤ì •í•˜ê³ , `worker.use` ë¬¸ë²•ì„ ì‚¬ìš©í•´ ë™ì ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ êµì²´í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ë¥¼ ì ìš©í•´ ë‹¤ìŒê³¼ ê°™ì´ MSW browserì˜ ì§„ì…ì ì„ ì„¤ì •í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
### í´ë¼ì´ì–¸íŠ¸ì˜ url ì£¼ì†Œì— ë”°ë¥¸ í•¸ë“¤ëŸ¬ êµì²´
```ts
const isScenarioName = (str: string): str is keyof typeof scenarios => {  
  return str in scenarios;  
};  
  
const scenarioName =  
  new URLSearchParams(window.location.search).get('error') || 'default';  
export const worker = setupWorker();  
  
isScenarioName(scenarioName)  
  ? worker.use(...scenarios[scenarioName])  
  : worker.use(...scenarios.default);
```
- `isScenarioName` í•¨ìˆ˜ëŠ” íƒ€ì… ê°€ë“œë¥¼ ìœ„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤.
- `scenarioName`ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ url ì¿¼ë¦¬ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
- `setupWorker`ë¡œ MSWë¥¼ ì´ˆê¸°í™” í•œ í›„
- `worker.use(...scenarios[scenarioName])`ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ url ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì— ë”°ë¥¸ MSW í•¸ë“¤ëŸ¬ ì§‘í•©ì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤.
### ìƒí™©ë³„ í•¸ë“¤ëŸ¬
```tsx
export const scenarios = {  
  default: defaultHandlers,  
  a01: A01ErrorHandlers,  
  a02: A02ErrorHandlers,  
  c02: C02ErrorHandlers,  
  m01: M01ErrorHandlers,  
  q01: Q01ErrorHandlers,  
  q02: Q02ErrorHandlers,  
  server: serverErrorHandlers,  
  t01: T01ErrorHandlers,  
  t02: T02ErrorHandlers,  
  v01: V01ErrorHandlers,  
  v02: V02ErrorHandlers,  
  v03: V03ErrorHandlers,  
  v04: V04ErrorHandlers,  
  v05: V05ErrorHandlers,  
  v06: V06ErrorHandlers,  
  v07: V07ErrorHandlers,  
  v08: V08ErrorHandlers,  
  w01: W01ErrorHandlers,  
  w02: W02ErrorHandlers,  
  w03: W03ErrorHandlers,  
};
```
í´ë¼ì´ì–¸íŠ¸ì˜ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ìœ¼ë¡œ ì…ë ¥ë°›ì€ ê°’ì€ ê° ì»¤ìŠ¤í…€ ì—ëŸ¬ ì½”ë“œì— í•´ë‹¹í•˜ëŠ” í•¸ë“¤ëŸ¬ ì§‘í•©ì— ëŒ€ì‘ë©ë‹ˆë‹¤.
![ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì§‘í•© ë‚´ë¶€ì˜ í•¸ë“¤ëŸ¬ë“¤](https://i.imgur.com/bhQEw21.png)
ê° ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì§‘í•© ë‚´ë¶€ì—ëŠ” ì„±ê³µ í•¸ë“¤ëŸ¬ ì‘ë‹µê³¼ ë¡œì§ì€ ë™ì¼í•˜ì§€ë§Œ `T01` ì—ëŸ¬ì— í•´ë‹¹í•˜ëŠ” ì¼€ì´ìŠ¤ë“¤ì€ `T01`ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì‘ë‹µì´ ë‚´ë ¤ì˜µë‹ˆë‹¤.
## âœ¨ê²°ê³¼âœ¨
![](https://i.imgur.com/jPOmSwu.png)

`error=default`ë¡œ ì„¤ì •ë˜ì–´ ìˆì„ ë•ŒëŠ” ì •ìƒì ì¸ api ì‘ë‹µì´ ë‚´ë ¤ì˜¤ê³ , ì´ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì„ `error=t01`ë¡œ êµì²´í•˜ëŠ” ìˆœê°„ MSW í•¸ë“¤ëŸ¬ ì§‘í•©ì´ T01ErrorHandlersë¡œ ë³€ê²½ë˜ì–´ ì—ëŸ¬ ìƒí™©ì— ëŒ€í•œ api ì‘ë‹µì´ ë‚´ë ¤ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# í›„ê¸°
'ì—­ì‹œ ê°œë°œìë“¤ì´ ë¶ˆí¸í•¨ì„ ê°ìˆ˜í•  ë¦¬ê°€ ì—†ì–´!'ë¼ëŠ” ìƒê°ì´ ì ˆë¡œ ë“¤ê²Œ í•˜ëŠ” í•´ê²°ì±…ì´ì—ˆëŠ”ë°ìš”.
ì¿¼ë¦¬ë¥¼ í†µí•´ í•¸ë“¤ëŸ¬ë¥¼ êµì²´í•œë‹¤ëŠ” ê²ƒì´ ë„ˆë¬´ ì¶©ê²©ì ì´ê²Œ íšê¸°ì ì´ê³  í¸ë¦¬í•œ ë°©ë²•ì´ë¼ ê¼­ ëª¨ë‘ì—ê²Œ ë„ë¦¬ ê³µìœ í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì—¬ì „íˆ ë¶ˆí¸í•¨ì€ ì‚´ì§ ë‚¨ì•„ìˆëŠ”ë°ìš”. ë°”ë¡œ ìˆ˜ë§ì€ ì—ëŸ¬ ìƒí™©ì— ëŒ€í•œ í•¸ë“¤ëŸ¬ ì§‘í•©ì„ ëª¨ë‘ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ì  ì…ë‹ˆë‹¤.
![ê³°í„°ë·°ì˜ ìˆ˜ë§ì€ ì»¤ìŠ¤í…€ ì—ëŸ¬ ì½”ë“œì— ëŒ€í•œ MSW í•¸ë“¤ëŸ¬...](https://i.imgur.com/XyDYKzQ.png)
ì € ëª¨ë“  í•¸ë“¤ëŸ¬ë¥¼ ì‘ì„±í•˜ëŠ” ë‹¨ìˆœ ë°˜ë³µ ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì°¸ ì•„ê¹Œìš´ ì‹œê°„ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
ì´ì „ì— ë©˜í† ë‹˜ê»˜ MSWì— ê´€í•œ ì§ˆë¬¸ì„ í–ˆì„ ë•Œ [plop - npm](https://www.npmjs.com/package/plop)ì´ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì¶”ì²œë°›ì•˜ìŠµë‹ˆë‹¤.
ê·¸ ë•ŒëŠ” MSWì˜ ì´ëŸ° ì‚¬ìš©ë²•ì„ ëª°ë¼ì„œ ë„ëŒ€ì²´ ì–´ë–»ê²Œ ë„ì…í•´ì•¼ í•˜ëŠ”ê±°ì§€? í•˜ëŠ” ì˜ë¬¸ì´ ìˆì—ˆëŠ”ë°ìš”.
ì´ì œì„œì•¼ ì € íŒ¨í‚¤ì§€ì˜ í•„ìš”ì„±ì„ ëŠë¼ê²Œ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì‹¤ì œë¡œ ì´ ì‘ì—…ì„ ì§„í–‰í•˜ë©´ì„œ ì•„ë˜ì™€ ê°™ì€ ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.ğŸ˜‚ğŸ˜‚
![ë³µë¶™í•˜ë‹¤ê°€ ë°œìƒí•œ ì‹¤ìˆ˜](https://i.imgur.com/XyDYKzQ.png)
ë‹¤ìŒë²ˆ MSWë¥¼ ìˆ˜ì • ì‘ì—…ì„ í•  ë•ŒëŠ” plopë¥¼ ì‚¬ìš©í•´ì„œ ë” ë˜‘ë˜‘í•˜ê²Œ ëª©ì—…ì„ í•´ë³¸ í›„ ìœ ìš©í•œ íŒì„ ê³µìœ í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤~

>[!info]
>ì´ ê²Œì‹œê¸€ì— ë‚˜ì˜¨ ë°©ë²•ê³¼ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ MSWë¥¼ ëª©ì—…í•˜ì‹  ë¶„ì´ ìˆë‹¤ë©´ ê¼­ ê³µìœ  ë¶€íƒë“œë¦½ë‹ˆë‹¤ ã…ã…

# ì°¸ê³  ë§í¬
[How do you mock different responses in real life?Â #1117](https://github.com/mswjs/msw/discussions/1117)
[Network behavior overrides - Mock Service Worker](https://mswjs.io/docs/best-practices/network-behavior-overrides)
#### ê´€ë ¨ PR
[[NDD-344] MSW ì—ëŸ¬ ëª¨í‚¹í•˜ê¸°, ë”ë¯¸ë°ì´í„° jsonìœ¼ë¡œ ë³€ê²½ (2h/3h)](https://github.com/boostcampwm2023/web14-gomterview/pull/169)
